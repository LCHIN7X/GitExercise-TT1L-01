<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Second Hand Books</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('.static', filename='add-and-remove_style.css') }}"> 
    <script>
        function confirmSubmission(event) {
            var confirmation = confirm("Are you sure you want to save these changes? Book image, Book name, Subject cannot be changed! Make sure your Faculty is correct! If you want to changed these you can delete it and add another book , go to the add book page!");
            if (!confirmation) {
                event.preventDefault();
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            var form = document.getElementById('editForm');
            form.addEventListener('submit', confirmSubmission);
        });
    </script>
</head>
<body>
    <div class="header-container">
        <div class="header">
            <img src="{{ url_for('.static', filename='/addRmvAsset/logo.jpg') }}" alt="Logo" class="logo">
        </div>
        <div class="title">
            <h1>Edit Book</h1>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <form id="editForm" action="{{ url_for('shbooks.testfunction', id=edit_book.id) }}" method="POST" enctype="multipart/form-data">
                <fieldset>
                    <legend>Edit Book Details</legend>
                    
                    <div class="col-6">
                        <label for="name">Book name</label>
                        <input type="text" id="name" name="name"  value="{{ edit_book.name }}" readonly><br>
                    </div>
                    <div class="col-6">
                        <label for="price">Price</label>
                        <input type="number" id="price" name="price" required placeholder="Enter the Price" value="{{ edit_book.price }}"><br>
                    </div>
                    <div class="col-6">
                        <label for="stock">Quantity</label>
                        <input type="number" id="stock" name="stock" required placeholder="Enter the Quantity" value="{{ edit_book.stock }}"><br>
                    </div>
                    <div class="col-6">
                        <label for="faculty">Faculty</label>
                        <select id="faculty" name="faculty" required class="form-control">
                            <option value="" disabled>Select Faculty</option>
                            {% for faculty in faculties %}
                            <option value="{{ faculty.name }}" {% if faculty.name == edit_book.faculty_name %}selected{% endif %}>{{ faculty.name }}</option>
                            {% endfor %}
                        </select><br>
                    </div>
                    <div class="col-6">
                        <label for="subject">Subject</label>
                        <input type="text" id="subject" name="subject" value="{{ edit_book.subject.name }}" readonly><br>
                    </div>
                    <input type="hidden" name="id" id="editBookId" value="{{ edit_book.id }}">
                    <div class="col-6"></div>
                    <input type="submit" value="Save Changes">
                </fieldset>
            </form>
        </div>
    </div>
</body>
</html>
